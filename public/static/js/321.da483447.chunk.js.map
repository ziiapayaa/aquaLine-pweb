{"version":3,"file":"static/js/321.da483447.chunk.js","mappings":"gOAsHA,UA/Gc,WAAO,IAAD,IAEZA,GAAWC,EAAAA,EAAAA,MAEXC,GAAO,WADIC,EAAAA,EAAAA,MACKC,aAAT,mBAAgBF,YAAhB,eAAsBG,WAAa,YAC9C,GAAmEC,EAAAA,EAAAA,KAA3DC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,2BAA4BC,EAA1C,EAA0CA,KAAMC,EAAhD,EAAgDA,QAASC,EAAzD,EAAyDA,MAGrDF,EAAKG,OAASZ,EAASE,EAAO,CAAEW,SAAQ,IAI5C,OAAoCC,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KAEA,GAA0DC,EAAAA,EAAAA,MAAlDC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAA2BC,EAA7C,EAAgCC,UAAaD,OAGvCE,EAAe,SAACV,EAAOW,GACzBf,EAA2BD,EAAMK,EAAOW,GACnCC,MAAK,SAAAC,GACFf,EAAQe,EAAOhB,MAEfT,EAASE,EAAM,CAAEW,SAAS,IAC1BG,EAAc,OAEjBU,OAAM,SAAAf,GACHgB,EAAUhB,EAAMiB,aAItBD,EAAY,SAAChB,GACF,2CAAVA,GACCkB,IAAAA,KAAU,CACNC,KAAM,QACNC,MAAO,iBACPC,KAAM,8BAGD,2CAAVrB,GACCkB,IAAAA,KAAU,CACNC,KAAM,QACNC,MAAO,iBACPC,KAAM,2CAGD,0CAAVrB,GACCkB,IAAAA,KAAU,CACNC,KAAM,QACNC,MAAO,gBACPC,KAAM,sCAGD,0CAAVrB,GACCkB,IAAAA,KAAU,CACNC,KAAM,QACNC,MAAO,gBACPC,KAAM,iCAGD,qEAAVrB,GACCkB,IAAAA,KAAU,CACNC,KAAM,QACNC,MAAO,iBACPC,KAAM,gDAOlB,OAFArB,GAASgB,EAAUhB,IAGf,qBAASsB,UAAU,8BAAnB,WACI,SAAC,IAAD,KACA,iBAAKA,UAAU,YAAf,WACI,eAAIA,UAAU,wBAAd,sBAEA,iBAAMC,SAAUf,GA7DX,SAAAgB,GAAI,OAAIb,EAAaa,EAAKvB,MAAOuB,EAAKZ,aA6D3C,UACI,iBAAKU,UAAU,oCAAf,WAEI,iBAAKA,UAAU,kBAAf,WACI,kBAAOG,QAAQ,QAAQH,UAAU,MAAjC,oBACA,0BAAOI,KAAK,OAAOJ,UAAU,oBAAuBf,EAAS,QAAS,CAAEoB,UAAU,MACjFlB,EAAOR,QAAS,iBAAMqB,UAAU,cAAhB,wCAGrB,iBAAKA,UAAU,kBAAf,WACI,kBAAOG,QAAQ,WAAWH,UAAU,MAApC,uBACA,0BAAOI,KAAK,WAAWJ,UAAU,oBAAsBf,EAAS,WAAY,CAAEoB,UAAU,MACvFlB,EAAOG,WAAY,iBAAMU,UAAU,cAAhB,wCAGxB,wBAAG,kBAAOA,UAAU,uBAAjB,qEACH,cAAGA,UAAU,sBAAb,SAAoClB,EAAWwB,MAAM,GAAG,OAGxD,kBAAOF,KAAK,SAASJ,UAAU,wBAAwBO,MAAM,YAK7D,gBAAKP,UAAU,OAAf,UACI,UAAC,KAAD,CAAMQ,GAAG,YAAYR,UAAU,kCAA/B,qCAAwF,iBAAMA,UAAU,yCAAhB","sources":["components/Login/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Navbar from '../Shared/Navbar/Navbar';\nimport { useForm } from \"react-hook-form\";\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport useAuth from '../../hooks/useAuth';\nimport Swal from 'sweetalert2';\n\nconst Login = () => {\n\n    let navigate = useNavigate();\n    let location = useLocation();\n    let from = location.state?.from?.pathname ||  \"/products\" ;\n    const { auth, signInWithEmailAndPassword, user, setUser, error,} = useAuth();\n    \n    // useEffect(()=>{\n        user.email && navigate(from , { replace:true })\n        // eslint-disable-next-line\n    // },[])\n\n    const [loginError, setLoginError] = useState('');\n\n    const { register, handleSubmit, formState: { errors } } = useForm();\n    const onSubmit = data => processLogin(data.email, data.password);\n\n    const processLogin = (email, password) => {\n        signInWithEmailAndPassword(auth, email, password)\n            .then(result => {\n                setUser(result.user);\n                // localStorage.setItem()\n                navigate(from, { replace: true })\n                setLoginError('');\n            })\n            .catch(error => {\n                swalAlert(error.message);\n            });\n    }\n\n    const swalAlert = (error) => {\n        if(error === 'Firebase: Error (auth/user-not-found).'){\n            Swal.fire({\n                icon: 'error',\n                title: 'User not found',\n                text: 'This user does not exist.',\n            })\n        }\n        if(error === 'Firebase: Error (auth/wrong-password).'){\n            Swal.fire({\n                icon: 'error',\n                title: 'Wrong password',\n                text: 'The password you entered is incorrect.',\n            })\n        }\n        if(error === 'Firebase: Error (auth/invalid-email).'){\n            Swal.fire({\n                icon: 'error',\n                title: 'Invalid email',\n                text: 'The email you entered is invalid.',\n            })\n        }\n        if(error === 'Firebase: Error (auth/user-disabled).'){\n            Swal.fire({\n                icon: 'error',\n                title: 'User disabled',\n                text: 'This user has been disabled.',\n            })\n        }\n        if(error === 'Firebase: Error (auth/account-exists-with-different-credential).'){\n            Swal.fire({\n                icon: 'error',\n                title: 'Account exists',\n                text: 'An account with this email already exists.',\n            })\n        }\n    }\n\n    error && swalAlert(error);\n\n    return (\n        <section className='bg-brand bg-brand-container'>\n            <Navbar />\n            <div className=\"container\">\n                <h1 className='fs-4 mt-5 text-center'>Sign In</h1>\n\n                <form onSubmit={handleSubmit(onSubmit)}>\n                    <div className=\"col-md-6 col-sm-8 mx-auto d-block\">\n\n                        <div className=\"form-group mt-2\">\n                            <label htmlFor='email' className='p-1'>Email</label>\n                            <input type='text' className=\"form-control p-2\" {...register(\"email\", { required: true })} />\n                            {errors.email && <span className='text-danger'>This field is required</span>}\n                        </div>\n\n                        <div className=\"form-group mt-2\">\n                            <label htmlFor='password' className='p-1'>Password</label>\n                            <input type='password' className=\"form-control p-2\"{...register(\"password\", { required: true })} />\n                            {errors.password && <span className='text-danger'>This field is required</span>}\n                        </div>\n\n                        <p><small className=\"form-text text-muted\">We'll never share your information with anyone else.</small></p>\n                        <p className='text-danger fw-bold'>{loginError.slice(10,37)}</p>\n\n\n                        <input type=\"submit\" className=\"btn btn-dark p-2 mt-2\" value=\"Log In\" />\n                        \n                        {/* <button onClick={resetPassword} className='btn btn-outline-dark p-2 ms-2'>Reset Password</button> */}\n\n                        \n                        <div className=\"mt-3\">\n                            <Link to='/register' className='text-black text-decoration-none'>Don't have an Account? <span className='text-primary text-decoration-underline'>Register as a new user</span></Link>\n                        </div>\n                    </div>\n\n                </form>\n            </div>\n        </section>\n    );\n};\n\nexport default Login;"],"names":["navigate","useNavigate","from","useLocation","state","pathname","useAuth","auth","signInWithEmailAndPassword","user","setUser","error","email","replace","useState","loginError","setLoginError","useForm","register","handleSubmit","errors","formState","processLogin","password","then","result","catch","swalAlert","message","Swal","icon","title","text","className","onSubmit","data","htmlFor","type","required","slice","value","to"],"sourceRoot":""}